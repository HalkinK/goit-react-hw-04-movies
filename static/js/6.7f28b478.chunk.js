(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{32:function(e,t,n){"use strict";var c=n(34),a=n.n(c),r=n(35),o=n(36),i=n.n(o),u="612ad9e57f61526bfd55d457eca2466c",s="https://api.themoviedb.org/3";function h(e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(a.a.mark((function e(t){var n,c,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,fetch(t,n);case 3:if(!(c=e.sent).ok){e.next=10;break}return e.next=7,c.json().then((function(e){return e.results}));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l={fetchMoviesTrend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="".concat(s,"/trending/movie/day?api_key=").concat(u,"&language=en-US&page=").concat(e);return h(t)},fetchMoviesByQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="".concat(s,"/search/movie?api_key=").concat(u,"&language=en-US&page=").concat(t,"&query=").concat(e);return h(n)},fetchMovieDetails:function(e){return i.a.get("".concat(s,"/movie/").concat(e,"?api_key=").concat(u,"&language=en-US")).then((function(e){return e.data}))},fetchMovieCast:function(e){var t="".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US");return fetch(t).then((function(e){return e.json()})).then((function(e){return e.cast}))},fetchMovieReviews:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US&page=").concat(t);return h(n)}};t.a=l},68:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var c=n(33),a=n(0),r=n(2),o=n(8),i=n(32),u=n(1);function s(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],h=Object(a.useState)(""),f=Object(c.a)(h,2),l=f[0],v=f[1],p=Object(r.i)().url,b=Object(a.useState)(""),j=Object(c.a)(b,2),m=j[0],d=j[1],g=Object(r.g)();return Object(a.useEffect)((function(){if(""!==l){i.a.fetchMoviesByQuery(m).then(s)}}),[m]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),d(l)},children:[Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:l,name:"searchQuery",onChange:function(e){v(e.currentTarget.value.toLowerCase())}}),Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]}),n&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("ul",{children:n.map((function(e){var t=e.title,n=e.id;return Object(u.jsx)(o.c,{to:{pathname:"".concat(p,"/").concat(n),state:{from:g.pathname}},children:Object(u.jsx)("li",{children:t},n)})}))})})]})}}}]);
//# sourceMappingURL=6.7f28b478.chunk.js.map